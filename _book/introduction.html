<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Building R Clients for Web Data</title>
  <meta content="text/html; charset=UTF-8" http-equiv="Content-Type">
  <meta name="description" content="This book will teach you how to write API clients for R.">
  <meta name="generator" content="bookdown 0.0.73 and GitBook 2.6.7">

  <meta property="og:title" content="Building R Clients for Web Data" />
  <meta property="og:type" content="book" />
  <meta property="og:url" content="https://github.com/sckott/wdclients" />
  
  <meta property="og:description" content="This book will teach you how to write API clients for R." />
  <meta name="github-repo" content="sckott/wdclients" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Building R Clients for Web Data" />
  <meta name="twitter:site" content="@sckottie" />
  <meta name="twitter:description" content="This book will teach you how to write API clients for R." />
  

<meta name="author" content="Scott Chamberlain">



  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="index.html">
<link rel="next" href="data-types.html">

<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />









<style type="text/css">
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; }
code > span.dt { color: #902000; }
code > span.dv { color: #40a070; }
code > span.bn { color: #40a070; }
code > span.fl { color: #40a070; }
code > span.ch { color: #4070a0; }
code > span.st { color: #4070a0; }
code > span.co { color: #60a0b0; font-style: italic; }
code > span.ot { color: #007020; }
code > span.al { color: #ff0000; font-weight: bold; }
code > span.fu { color: #06287e; }
code > span.er { color: #ff0000; font-weight: bold; }
</style>

<link rel="stylesheet" href="wdclients.css" type="text/css" />
</head>

<body>


  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><strong><a href="./">Building R Clients For Web Data</a></strong></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Welcome</a></li>
<li class="chapter" data-level="1" data-path="introduction.html"><a href="introduction.html"><i class="fa fa-check"></i><b>1</b> Introduction</a><ul>
<li class="chapter" data-level="1.1" data-path="introduction.html"><a href="introduction.html#what-you-will-learn"><i class="fa fa-check"></i><b>1.1</b> What you will learn</a></li>
<li class="chapter" data-level="1.2" data-path="introduction.html"><a href="introduction.html#prerequisites"><i class="fa fa-check"></i><b>1.2</b> Prerequisites</a><ul>
<li class="chapter" data-level="1.2.1" data-path="introduction.html"><a href="introduction.html#r-packages"><i class="fa fa-check"></i><b>1.2.1</b> R packages</a></li>
</ul></li>
<li class="chapter" data-level="1.3" data-path="introduction.html"><a href="introduction.html#acknowledgements"><i class="fa fa-check"></i><b>1.3</b> Acknowledgements</a></li>
<li class="chapter" data-level="1.4" data-path="introduction.html"><a href="introduction.html#colophon"><i class="fa fa-check"></i><b>1.4</b> Colophon</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="data-types.html"><a href="data-types.html"><i class="fa fa-check"></i><b>2</b> Data Types</a><ul>
<li class="chapter" data-level="2.1" data-path="data-types.html"><a href="data-types.html#json"><i class="fa fa-check"></i><b>2.1</b> JSON</a></li>
<li class="chapter" data-level="2.2" data-path="data-types.html"><a href="data-types.html#xml"><i class="fa fa-check"></i><b>2.2</b> XML</a></li>
<li class="chapter" data-level="2.3" data-path="data-types.html"><a href="data-types.html#html"><i class="fa fa-check"></i><b>2.3</b> HTML</a></li>
<li class="chapter" data-level="2.4" data-path="data-types.html"><a href="data-types.html#files"><i class="fa fa-check"></i><b>2.4</b> Files</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="apis.html"><a href="apis.html"><i class="fa fa-check"></i><b>3</b> APIs</a><ul>
<li class="chapter" data-level="3.1" data-path="apis.html"><a href="apis.html#breakdown-of-the-types"><i class="fa fa-check"></i><b>3.1</b> Breakdown of the types</a></li>
<li class="chapter" data-level="3.2" data-path="apis.html"><a href="apis.html#rpc"><i class="fa fa-check"></i><b>3.2</b> RPC</a></li>
<li class="chapter" data-level="3.3" data-path="apis.html"><a href="apis.html#soap"><i class="fa fa-check"></i><b>3.3</b> SOAP</a></li>
<li class="chapter" data-level="3.4" data-path="apis.html"><a href="apis.html#rest"><i class="fa fa-check"></i><b>3.4</b> REST</a></li>
<li class="chapter" data-level="3.5" data-path="apis.html"><a href="apis.html#others"><i class="fa fa-check"></i><b>3.5</b> Others</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="working-with-apis.html"><a href="working-with-apis.html"><i class="fa fa-check"></i><b>4</b> Working with APIs</a><ul>
<li class="chapter" data-level="4.1" data-path="working-with-apis.html"><a href="working-with-apis.html#xxx"><i class="fa fa-check"></i><b>4.1</b> xxx</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="api-clients.html"><a href="api-clients.html"><i class="fa fa-check"></i><b>5</b> API clients</a><ul>
<li class="chapter" data-level="5.1" data-path="api-clients.html"><a href="api-clients.html#writing-r-packages"><i class="fa fa-check"></i><b>5.1</b> Writing R packages</a></li>
<li class="chapter" data-level="5.2" data-path="api-clients.html"><a href="api-clients.html#core-http-helpers"><i class="fa fa-check"></i><b>5.2</b> Core HTTP helpers</a></li>
<li class="chapter" data-level="5.3" data-path="api-clients.html"><a href="api-clients.html#what-to-return-to-users"><i class="fa fa-check"></i><b>5.3</b> What to return to users</a></li>
<li class="chapter" data-level="5.4" data-path="api-clients.html"><a href="api-clients.html#abstracted-vs.1-to-1-user-interfaces"><i class="fa fa-check"></i><b>5.4</b> Abstracted vs. 1-to-1 user interfaces</a></li>
<li class="chapter" data-level="5.5" data-path="api-clients.html"><a href="api-clients.html#http-request-inspection"><i class="fa fa-check"></i><b>5.5</b> HTTP request inspection</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="curl.html"><a href="curl.html"><i class="fa fa-check"></i><b>6</b> curl</a><ul>
<li class="chapter" data-level="6.1" data-path="curl.html"><a href="curl.html#discover-curl-options"><i class="fa fa-check"></i><b>6.1</b> Discover curl options</a></li>
<li class="chapter" data-level="6.2" data-path="curl.html"><a href="curl.html#other-ways-to-use-curl-besides-r"><i class="fa fa-check"></i><b>6.2</b> Other ways to use curl besides R</a></li>
<li class="chapter" data-level="6.3" data-path="curl.html"><a href="curl.html#install-httr"><i class="fa fa-check"></i><b>6.3</b> Install httr</a></li>
<li class="chapter" data-level="6.4" data-path="curl.html"><a href="curl.html#general-option-setting"><i class="fa fa-check"></i><b>6.4</b> general option setting</a></li>
<li class="chapter" data-level="6.5" data-path="curl.html"><a href="curl.html#curl-options-in-ropensci-packages"><i class="fa fa-check"></i><b>6.5</b> curl options in rOpenSci packages</a></li>
<li class="chapter" data-level="6.6" data-path="curl.html"><a href="curl.html#timeout"><i class="fa fa-check"></i><b>6.6</b> timeout</a></li>
<li class="chapter" data-level="6.7" data-path="curl.html"><a href="curl.html#verbose"><i class="fa fa-check"></i><b>6.7</b> verbose</a></li>
<li class="chapter" data-level="6.8" data-path="curl.html"><a href="curl.html#headers"><i class="fa fa-check"></i><b>6.8</b> headers</a></li>
<li class="chapter" data-level="6.9" data-path="curl.html"><a href="curl.html#authenticate"><i class="fa fa-check"></i><b>6.9</b> authenticate</a></li>
<li class="chapter" data-level="6.10" data-path="curl.html"><a href="curl.html#cookies"><i class="fa fa-check"></i><b>6.10</b> cookies</a></li>
<li class="chapter" data-level="6.11" data-path="curl.html"><a href="curl.html#progress"><i class="fa fa-check"></i><b>6.11</b> progress</a></li>
<li class="chapter" data-level="6.12" data-path="curl.html"><a href="curl.html#proxies"><i class="fa fa-check"></i><b>6.12</b> proxies</a></li>
<li class="chapter" data-level="6.13" data-path="curl.html"><a href="curl.html#user-agent"><i class="fa fa-check"></i><b>6.13</b> user agent</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="ftp.html"><a href="ftp.html"><i class="fa fa-check"></i><b>7</b> FTP</a></li>
<li class="chapter" data-level="8" data-path="http.html"><a href="http.html"><i class="fa fa-check"></i><b>8</b> HTTP</a><ul>
<li class="chapter" data-level="8.1" data-path="http.html"><a href="http.html#http2"><i class="fa fa-check"></i><b>8.1</b> HTTP/2</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="caching.html"><a href="caching.html"><i class="fa fa-check"></i><b>9</b> Caching</a><ul>
<li class="chapter" data-level="9.1" data-path="caching.html"><a href="caching.html#why-cache"><i class="fa fa-check"></i><b>9.1</b> Why cache?</a></li>
<li class="chapter" data-level="9.2" data-path="caching.html"><a href="caching.html#http-based-caching"><i class="fa fa-check"></i><b>9.2</b> http based caching</a></li>
<li class="chapter" data-level="9.3" data-path="caching.html"><a href="caching.html#r-based-caching"><i class="fa fa-check"></i><b>9.3</b> R based caching</a><ul>
<li class="chapter" data-level="9.3.1" data-path="caching.html"><a href="caching.html#vcr"><i class="fa fa-check"></i><b>9.3.1</b> vcr</a></li>
<li class="chapter" data-level="9.3.2" data-path="caching.html"><a href="caching.html#rappdirs"><i class="fa fa-check"></i><b>9.3.2</b> rappdirs</a></li>
<li class="chapter" data-level="9.3.3" data-path="caching.html"><a href="caching.html#other-packages"><i class="fa fa-check"></i><b>9.3.3</b> other packages</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="10" data-path="packaging.html"><a href="packaging.html"><i class="fa fa-check"></i><b>10</b> Packaging</a><ul>
<li class="chapter" data-level="10.1" data-path="packaging.html"><a href="packaging.html#http-functions"><i class="fa fa-check"></i><b>10.1</b> HTTP functions</a></li>
<li class="chapter" data-level="10.2" data-path="packaging.html"><a href="packaging.html#curl-options"><i class="fa fa-check"></i><b>10.2</b> Curl options</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="testing.html"><a href="testing.html"><i class="fa fa-check"></i><b>11</b> Testing</a><ul>
<li class="chapter" data-level="11.1" data-path="testing.html"><a href="testing.html#testthat"><i class="fa fa-check"></i><b>11.1</b> testthat</a><ul>
<li class="chapter" data-level="11.1.1" data-path="testing.html"><a href="testing.html#skipping-tests"><i class="fa fa-check"></i><b>11.1.1</b> Skipping tests</a></li>
<li class="chapter" data-level="11.1.2" data-path="testing.html"><a href="testing.html#test-if-web-resource-is-up"><i class="fa fa-check"></i><b>11.1.2</b> Test if web resource is up</a></li>
</ul></li>
<li class="chapter" data-level="11.2" data-path="testing.html"><a href="testing.html#mocking-web-requests"><i class="fa fa-check"></i><b>11.2</b> Mocking web requests</a><ul>
<li class="chapter" data-level="11.2.1" data-path="testing.html"><a href="testing.html#vcr-1"><i class="fa fa-check"></i><b>11.2.1</b> vcr</a></li>
</ul></li>
<li class="chapter" data-level="11.3" data-path="testing.html"><a href="testing.html#webmockr"><i class="fa fa-check"></i><b>11.3</b> webmockr</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="package-automation.html"><a href="package-automation.html"><i class="fa fa-check"></i><b>12</b> Package Automation</a><ul>
<li class="chapter" data-level="12.1" data-path="package-automation.html"><a href="package-automation.html#api-specifications"><i class="fa fa-check"></i><b>12.1</b> API Specifications</a></li>
<li class="chapter" data-level="12.2" data-path="package-automation.html"><a href="package-automation.html#package-generator"><i class="fa fa-check"></i><b>12.2</b> Package generator</a></li>
<li class="chapter" data-level="12.3" data-path="package-automation.html"><a href="package-automation.html#keeping-up-to-date"><i class="fa fa-check"></i><b>12.3</b> Keeping up to date</a></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Building R Clients for Web Data</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="introduction" class="section level1">
<h1><span class="header-section-number">1</span> Introduction</h1>
<p>R is a powerful language for working with data. There is an immense amount of data on the internet. This book goes over the individual parts of working with data on the web, and teaches you how to make packages to get data on the web.</p>
<div id="what-you-will-learn" class="section level2">
<h2><span class="header-section-number">1.1</span> What you will learn</h2>
<p>There are many components to working with data on the web. This book won’t be the most detailed in any of them, but will lay a foundation for doing each component well.</p>
<p>You’ll learn about File Transfer Protocl (FTP), and how to work with it in R. Many government organizations provide data this way. It’s a great method for large data.</p>
<p>Much of the book will cover working with web Application Programming Interfaces (APIs). Public APIs are all over the place now: there’s on for <a href="http://www.omdbapi.com/">IMDB</a>, for <a href="https://swapi.co/">Star Wars</a>, for many <a href="https://www.data.gov/">US government departments</a>, and a lot more.</p>
<p>Finally, we’ll cover how to write R packages to work with data on the web, whether the data is from FTP, scraped from website, or through a web API.</p>
</div>
<div id="prerequisites" class="section level2">
<h2><span class="header-section-number">1.2</span> Prerequisites</h2>
<p>To run the code in this book, you will need to install both R and the RStudio IDE, an application that makes R easier to use. Both are open source, free and easy to install:</p>
<ol style="list-style-type: decimal">
<li>Download and install R, <a href="https://www.r-project.org/alt-home/" class="uri">https://www.r-project.org/alt-home/</a>.</li>
<li>Download and install RStudio, <a href="http://www.rstudio.com/download" class="uri">http://www.rstudio.com/download</a>.</li>
<li>Install needed packages (see below).</li>
</ol>
<div id="r-packages" class="section level3">
<h3><span class="header-section-number">1.2.1</span> R packages</h3>
<pre class="sourceCode r"><code class="sourceCode r">pkgs &lt;-<span class="st"> </span><span class="kw">c</span>(
  <span class="st">&quot;jsonlite&quot;</span>, <span class="st">&quot;knitr&quot;</span>, <span class="st">&quot;httr&quot;</span>
)
<span class="kw">install.packages</span>(pkgs)</code></pre>
<p>You’ll also need to install some R packages. An R <em>package</em> is a collection of functions, data, and documentation that extends the capabilities of base R. Using packages is key to the successful use of R. To install all the packages used in this book open RStudio and run:</p>
<p>R will download the packages from CRAN and install them in your system library. If you have problems installing, make sure that you are connected to the internet, and that you haven’t blocked <a href="https://cran.rstudio.com" class="uri">https://cran.rstudio.com</a> in your firewall or proxy.</p>
<p>You will not be able to use the functions, objects, and help files in a package until you load it with <code>library()</code>. After you have downloaded the packages, you can load any of the packages into your current R session with the <code>library()</code> command, e.g.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(httr)</code></pre>
<p>You will need to reload the package every time you start a new R session.</p>
</div>
</div>
<div id="acknowledgements" class="section level2">
<h2><span class="header-section-number">1.3</span> Acknowledgements</h2>
<p>xxx</p>
</div>
<div id="colophon" class="section level2">
<h2><span class="header-section-number">1.4</span> Colophon</h2>
<p>This book was built with:</p>
<pre class="sourceCode r"><code class="sourceCode r">devtools::<span class="kw">session_info</span>(pkgs)
<span class="co">#&gt; Session info --------------------------------------------------------------</span>
<span class="co">#&gt;  setting  value                                      </span>
<span class="co">#&gt;  version  R version 3.3.0 Patched (2016-05-09 r70593)</span>
<span class="co">#&gt;  system   x86_64, darwin13.4.0                       </span>
<span class="co">#&gt;  ui       X11                                        </span>
<span class="co">#&gt;  language (EN)                                       </span>
<span class="co">#&gt;  collate  en_US.UTF-8                                </span>
<span class="co">#&gt;  tz       America/Los_Angeles                        </span>
<span class="co">#&gt;  date     2016-06-17</span>
<span class="co">#&gt; Packages ------------------------------------------------------------------</span>
<span class="co">#&gt;  package  * version date       source                      </span>
<span class="co">#&gt;  curl       0.9.7   2016-04-10 CRAN (R 3.3.0)              </span>
<span class="co">#&gt;  digest     0.6.9   2016-01-08 CRAN (R 3.3.0)              </span>
<span class="co">#&gt;  evaluate   0.9     2016-04-29 CRAN (R 3.3.0)              </span>
<span class="co">#&gt;  formatR    1.4     2016-05-09 CRAN (R 3.3.0)              </span>
<span class="co">#&gt;  highr      0.6     2016-05-09 CRAN (R 3.3.0)              </span>
<span class="co">#&gt;  httr       1.2.0   2016-06-15 CRAN (R 3.3.0)              </span>
<span class="co">#&gt;  jsonlite   0.9.22  2016-06-15 CRAN (R 3.3.0)              </span>
<span class="co">#&gt;  knitr      1.13.1  2016-06-17 Github (yihui/knitr@ce40cbf)</span>
<span class="co">#&gt;  magrittr   1.5     2014-11-22 CRAN (R 3.3.0)              </span>
<span class="co">#&gt;  markdown   0.7.7   2015-04-22 CRAN (R 3.3.0)              </span>
<span class="co">#&gt;  mime       0.4     2015-09-03 CRAN (R 3.3.0)              </span>
<span class="co">#&gt;  openssl    0.9.4   2016-05-25 CRAN (R 3.3.0)              </span>
<span class="co">#&gt;  R6         2.1.2   2016-01-26 CRAN (R 3.3.0)              </span>
<span class="co">#&gt;  stringi    1.1.1   2016-05-27 CRAN (R 3.3.0)              </span>
<span class="co">#&gt;  stringr    1.0.0   2015-04-30 CRAN (R 3.3.0)              </span>
<span class="co">#&gt;  yaml       2.1.13  2014-06-12 CRAN (R 3.3.0)</span></code></pre>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="index.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="data-types.html" class="navigation navigation-next " aria-label="Next page""><i class="fa fa-angle-right"></i></a>

<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": false,
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/sckott/wdclients/edit/master/intro.Rmd",
"text": "Edit"
},
"download": null,
"toc": {
"collapse": "section"
}
});
});
</script>

</body>

</html>
